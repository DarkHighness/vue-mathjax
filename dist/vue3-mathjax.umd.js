(function(e,i){typeof exports=="object"&&typeof module!="undefined"?module.exports=i(require("vue")):typeof define=="function"&&define.amd?define(["vue"],i):(e=typeof globalThis!="undefined"?globalThis:e||self,e["vue-mathjax"]=i(e.Vue))})(this,function(e){"use strict";let i=!1,p=!1,s=[];function h(){return window.MathJax}function y(){if(!i){const t=document.createElement("script");t.src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js",t.async=!0,document.head.appendChild(t),i=!0}}function d(t={},a){const n=Object.assign({},{tex:{inlineMath:[["$","$"]],displayMath:[["$$","$$"]],processEnvironments:!0,processRefs:!0},options:{skipHtmlTags:["script","noscript","style","textarea","pre","code","annotation","annotation-xml"],ignoreHtmlClass:"tex2jax_ignore"},startup:{pageReady:()=>{p=!0,h().typeset(s.map(r=>r.el)),s.forEach(r=>{r.type=="async"&&r.callback()}),a&&a()}},svg:{fontCache:"global"}},t);window.MathJax=n,y()}function l(t){if(!p){Array.isArray(t)?s.concat(t.map(a=>({type:"sync",el:a}))):s.push({type:"sync",el:t});return}window.MathJax.typeset(Array.isArray(t)?t:[t])}async function u(t){return new Promise((a,c)=>{if(p)return window.MathJax.typesetPromise(Array.isArray(t)?t:[t]);if(Array.isArray(t)){for(let n=0;n<t.length;n++)s.push({type:"sync",el:t[n]});s.push({type:"async",el:t[t.length-1],callback:a})}else s.push({type:"async",el:t,callback:a})})}const f=e.defineComponent({setup(t){let a;const c=async()=>{a&&await u(a)};return e.onMounted(()=>{var n,r,o;d(),a=(o=(r=(n=e.getCurrentInstance())==null?void 0:n.vnode)==null?void 0:r.el)==null?void 0:o.parentNode,e.nextTick(()=>{c()})}),e.onUpdated(()=>{var n,r,o;a=(o=(r=(n=e.getCurrentInstance())==null?void 0:n.vnode)==null?void 0:r.el)==null?void 0:o.parentNode,e.nextTick(()=>{c()})}),(n,r)=>e.renderSlot(n.$slots,"default")}});function m(t){t.component("math-jax",f)}var x={install:m,MathJax:f,initMathJax:d,renderByMathJax:u,renderByMathJaxSync:l};return x});
